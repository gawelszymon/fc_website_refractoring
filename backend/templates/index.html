{% extends "base.html" %}
{% block content %}
  <div id="main">
    <div class="slideshow-container">
        <div class="swiper">
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper">
                <!-- Slides -->
                <!-- <div class="swiper-slide"><img src="../static/1_matchday_banner_on_page_official.png"></div> -->

            </div>
            <!-- If we need pagination -->
            <div class="swiper-pagination"></div>

            <!-- If we need navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>

        </div>
    </div>

    <br>
    
    <div class="entries-container">
      <div class="main-entry">
        <div id="entries0"></div>
      </div>
    </div>

    <script>
        const swiper = new Swiper('.swiper', {
          autoplay: {
            delay: 8000,
            disableOnInteraction: false,
            },

          loop: true,

          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },

          navigation: {
            prevEl: '.swiper-button-prev',
            nextEl: '.swiper-button-next',
          },

        });

        console.log('Width: ' + window.innerWidth + 'px');

        document.addEventListener('DOMContentLoaded', loadEntries);

        // Check for new main image in localStorage
        const newMainImage = localStorage.getItem('newMainImage');
        if (newMainImage) {
            const swiperWrapper = document.querySelector('.swiper-wrapper');
            const newSlide = document.createElement('div');
            newSlide.className = 'swiper-slide';
            newSlide.innerHTML = `<img src="/teams_photos/${newMainImage}" alt="Published Image">`;
            swiperWrapper.appendChild(newSlide);

            // Remove the flag from localStorage
            localStorage.removeItem('newMainImage');
        }
    </script>
    <script type="module" src="{{url_for('static', filename='js/get_main_images.js')}}"></script>
  </div>

  <footer id="footer">
    <p>&copy; Szymon Gawe≈Ç 2025. All rights reserved.</p>
  </footer>
{% endblock %}